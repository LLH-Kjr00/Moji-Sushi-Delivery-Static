<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../styles/globel.css">
    <link rel="stylesheet" href="../styles/gallery.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap"
        rel="stylesheet">
</head>

<body class="body">
    <div class=first_page>
        <header>

            <img class="logo_pic" src="../assets/logo.png">
            <nav>
                <ul class="nav_links">
                    <li><a href="../index.html">Home</a></li>
                    <li><a href="../gallery/gallery.html">Gallery</a></li>
                    <li onclick=scrollToElement()><button class="contact">Contact</button></li>
                </ul>
            </nav>
            <img class="side_icon" src="../assets/sidebar.png" onclick=showSidebar()>
            <ul class="sidebar">
                <img class="cancel_icon" src="../assets/cancel.png" onclick=hideSidebar()>
                <li><a href="../index.html">Home</a></li>
                <li><a href="../gallery/gallery.html">Gallery</a></li>
                <li onclick=scrollToElement()><button class="contact">Contact</button></li>
            </ul>
        </header>
        <div class="container">
            <h1 class='title'>Gallery</h1>
            <div class="gallery">

                <div class='gallery_container'>

                    <img class="gallery_item gallery_item_1" id="previous_pic" loading="eager"
                        src="../assets/dummy_pic/1.jpg" alt="This is the description for sushi No.1">
                    <img class="gallery_item gallery_item_2" id="current_pic" loading="eager"
                        src="../assets/dummy_pic/2.jpg" alt="This is the description for sushi No.2">
                    <img class="gallery_item gallery_item_3" id="next_pic" loading="eager"
                        src="../assets/dummy_pic/3.jpg" alt="This is the description for sushi No.3">
                </div>

            </div>
            <div class="gallery_controls">
                <img class="slide_button gallery_controls_previous" id="prev_slide" src="../assets/new_arrow.png"
                    alt="previous arrow icon" onclick="changePicture('prev')">
                <div class="description">
                    This is the description for sushi No.2
                </div>
                <img class="slide_button gallery_controls_next" id="next_slide" src="../assets/new_arrow.png"
                    alt="next arrow icon" onclick="changePicture('next')">
            </div>


        </div>
    </div>
    <div class="second_page">
        <div class="contact_header">
            Contact Us
        </div>
        <div class="contact_details">
            <div class="left">
                <div class="contact_section">
                    <p class="section_header">Telefon:</p>
                    <p class="section_value">040 521 629 69</p>
                </div>
                <div class="contact_section">
                    <p class="section_header">Email</p>
                    <p class="section_value">???@gmail.com</p>
                </div>
                <div class="contact_section">
                    <p class="section_header">Adresse</p>
                    <p class="section_value">Alsterdorfer Straße 263, Hamburg, Germany 22297</p>
                </div>
                <div class="contact_section">
                    <p class="section_header">Öffnungszeiten</p>
                    <p class="section_value">Di-Do: 16:00-21:30 und Fr-So: 16:00-22:00</p>
                </div>
                <div class="social">
                    <a href="https://www.instagram.com/moji_sushi/"><img class="logo_pic" src="../assets/ig.png"></a>
                </div>
            </div>
            <div class="right">
                123
            </div>
        </div>
        <div class="credentials">
            2024 Powered By M&P Services
        </div>
    </div>


</body>

</html>

<script>

    const gallery_Container = document.querySelector('.gallery_container');
    const gallery_Controls = document.querySelector('.gallery_controls');
    const gallery_Items = document.querySelectorAll('.gallery_item');

    let prevPicRef, currPicRef, nextPicRef;
    const maximum_num = 13;
    const window_width = window.innerWidth;
    const contentDiv = document.querySelector('.description');

    function showSidebar() {
        const sidebar = document.querySelector('.sidebar')
        /*sidebar.style.display = "flex"*/
        sidebar.style.height = "100vh"
        sidebar.style.right = "0"

    }
    function hideSidebar() {
        const sidebar = document.querySelector('.sidebar')
        sidebar.style.right = "-100vw"

    }
    function scrollToElement() {
        var elmnt = document.getElementsByClassName("second_page")[0];
        elmnt.scrollIntoView({ behavior: 'smooth', block: "start" });//, block:'center', inline:'center'});
        const sidebar = document.querySelector('.sidebar')
        sidebar.style.right = "-100vw"
    }

    function changePicture(direction) {
        const currentPic = document.getElementById('current_pic');
        const nextPic = document.getElementById('next_pic');
        const prevPic = document.getElementById('previous_pic');

        if (direction === 'next') {
            change_pic_next()
        } else {
            change_pic_prev()
        }
    }

    function change_pic_next() {


        if (!prevPicRef || !currPicRef || !nextPicRef) {
            prevPicRef = document.querySelector('#previous_pic');
            currPicRef = document.querySelector('#current_pic');
            nextPicRef = document.querySelector('#next_pic');
            prevPicRef.style.opacity = '0';
            currPicRef.style.opacity = '0';
            nextPicRef.style.opacity = '0';

        }

        const curr_filename = currPicRef.src
        const curr_idx = parseInt(curr_filename.split('\\').pop().split('/').pop().split('.')[0]);

        let prevPicSrc, currPicSrc, nextPicSrc;

        if (window_width > 800) {

            prevPicSrc = `../assets/dummy_pic/${curr_idx % maximum_num}.jpg`;
            currPicSrc = `../assets/dummy_pic/${(curr_idx + 1) % maximum_num}.jpg`;
            nextPicSrc = `../assets/dummy_pic/${(curr_idx + 2) % maximum_num}.jpg`;

            prevPicRef.src = prevPicSrc;
            currPicRef.src = currPicSrc;
            nextPicRef.src = nextPicSrc;

            prevPicRef.alt = `This is the description for sushi No.${curr_idx % maximum_num}`;
            currPicRef.alt = `This is the description for sushi No.${(curr_idx + 1) % maximum_num}`;
            nextPicRef.alt = `This is the description for sushi No.${(curr_idx + 2) % maximum_num}`;


            animateElements('next').then(() => {
                prevPicRef.style.opacity = '0.7';
                currPicRef.style.opacity = '1';
                nextPicRef.style.opacity = '0.7';
            })




            contentDiv.textContent = currPicRef.alt

            const contentDivAni = contentDiv.animate(
                [
                    { opacity: 0 },
                    { opacity: 1 }
                ],
                {
                    duration: 750,
                    easing: 'ease-in-out'
                }
            );

            
        }
        else {
            currPicSrc = `../assets/dummy_pic/${(curr_idx + 1) % maximum_num}.jpg`;
            currPicRef.src = currPicSrc;
            currPicRef.alt = `This is the description for sushi No.${(curr_idx + 1) % maximum_num}`;
            contentDiv.textContent = currPicRef.alt
            const curr_pic_ani_exit = Next_animateElement_curr(currPicRef, 1000, 'ease-in-out');

            const contentDivAni = contentDiv.animate(
                [
                    { opacity: 0 },
                    { opacity: 1 }
                ],
                {
                    duration: 750,
                    easing: 'ease-in-out'
                }
            );
            currPicRef.style.opacity = '1';
        }

    }

    function change_pic_prev() {
        if (!prevPicRef || !currPicRef || !nextPicRef) {
            prevPicRef = document.querySelector('#previous_pic');
            currPicRef = document.querySelector('#current_pic');
            nextPicRef = document.querySelector('#next_pic');
            prevPicRef.style.opacity = '0';
            currPicRef.style.opacity = '0';
            nextPicRef.style.opacity = '0';
        }

        const curr_filename = currPicRef.src
        const curr_idx = parseInt(curr_filename.split('\\').pop().split('/').pop().split('.')[0]);

        let prevPicSrc, currPicSrc, nextPicSrc;

        if (window_width > 800) {


            if (curr_idx <= 1) {
                prevPicSrc = `../assets/dummy_pic/${(curr_idx - 2 + maximum_num) % maximum_num}.jpg`;
                currPicSrc = `../assets/dummy_pic/${(curr_idx - 1 + maximum_num) % maximum_num}.jpg`;
                nextPicSrc = `../assets/dummy_pic/${(curr_idx + maximum_num) % maximum_num}.jpg`;

                prevPicRef.alt = `This is the description for sushi No.${(curr_idx - 2 + maximum_num) % maximum_num}`;
                currPicRef.alt = `This is the description for sushi No.${(curr_idx - 1 + maximum_num) % maximum_num}`;
                nextPicRef.alt = `This is the description for sushi No.${(curr_idx + maximum_num) % maximum_num}`;
            }
            else {
                prevPicSrc = `../assets/dummy_pic/${(curr_idx - 2) % maximum_num}.jpg`;
                currPicSrc = `../assets/dummy_pic/${(curr_idx - 1) % maximum_num}.jpg`;
                nextPicSrc = `../assets/dummy_pic/${(curr_idx) % maximum_num}.jpg`;

                prevPicRef.alt = `This is the description for sushi No.${(curr_idx - 2) % maximum_num}`;
                currPicRef.alt = `This is the description for sushi No.${(curr_idx - 1) % maximum_num}`;
                nextPicRef.alt = `This is the description for sushi No.${(curr_idx) % maximum_num}`;
            }
            currPicRef.src = currPicSrc;
            prevPicRef.src = prevPicSrc;
            nextPicRef.src = nextPicSrc;

            animateElements('prev').then(() => {
                prevPicRef.style.opacity = '0.7';
                currPicRef.style.opacity = '1';
                nextPicRef.style.opacity = '0.7';
            })



            contentDiv.textContent = currPicRef.alt

            const contentDivAni = contentDiv.animate(
                [
                    { opacity: 0 },
                    { opacity: 1 }
                ],
                {
                    duration: 750,
                    easing: 'ease-in-out'
                }
            );


        }
        else {
            if (curr_idx <= 1) {

                currPicSrc = `../assets/dummy_pic/${(curr_idx - 1 + maximum_num) % maximum_num}.jpg`;
                currPicRef.alt = `This is the description for sushi No.${(curr_idx - 1 + maximum_num) % maximum_num}`;


            }
            else {
                currPicSrc = `../assets/dummy_pic/${(curr_idx - 1) % maximum_num}.jpg`;
                currPicRef.alt = `This is the description for sushi No.${(curr_idx - 1) % maximum_num}`;


            }

            currPicRef.src = currPicSrc;

            contentDiv.textContent = currPicRef.alt

            const curr_pic_ani_exit = Prev_animateElement_curr(currPicRef, 1000, 'ease-in-out');

            const contentDivAni = contentDiv.animate(
                [
                    { opacity: 0 },
                    { opacity: 1 }
                ],
                {
                    duration: 750,
                    easing: 'ease-in-out'
                }
            );
            currPicRef.style.opacity = '1';
        }

    }

    function animateElements(direction) {

        if (direction == 'prev') {
            const prev_pic_ani_exit = Prev_animateElement_prev(prevPicRef, 1000, 'ease-in-out');

            const curr_pic_ani_exit = Prev_animateElement_curr(currPicRef, 1000, 'ease-in-out');

            const next_pic_ani_exit = Prev_animateElement_next(nextPicRef, 1000, 'ease-in-out');
        }
        else {

            const prev_pic_ani_exit = Next_animateElement_prev(prevPicRef, 1000, 'ease-in-out');

            const curr_pic_ani_exit = Next_animateElement_curr(currPicRef, 1000, 'ease-in-out');

            const next_pic_ani_exit = Next_animateElement_next(nextPicRef, 1000, 'ease-in-out');
        }
    }



    function Prev_animateElement_prev(element, duration, easing) {
        return element.animate(
            [

            ],
            {
                duration: duration,
                easing: easing,
            }
        );
    }

    function Prev_animateElement_curr(element, duration, easing) {
        return element.animate(
            [

            ],
            {
                duration: duration,
                easing: easing,
            }
        );
    }

    function Prev_animateElement_next(element, duration, easing) {
        return element.animate(
            [

            ],

            {
                duration: duration,
                easing: easing,
            }
        );
    }

    function Next_animateElement_prev(element, duration, easing) {
        return element.animate(
            [
                { transform: 'translateX(100%)', opacity: 0 },
                { transform: 'translateX(0)', opacity: 0.7 },
            ],
            {
                duration: duration,
                easing: easing,
            }
        );
    }

    function Next_animateElement_curr(element, duration, easing) {
        return element.animate(
            [
                { transform: 'translateX(100%)', opacity: 0 },
                { transform: 'translateX(0)', opacity: 1 },
            ],
            {
                duration: duration,
                easing: easing,
            }
        );
    }

    function Next_animateElement_next(element, duration, easing) {
        return element.animate(
            [
                { transform: 'translateX(100%)', opacity: 0 },
                { transform: 'translateX(0)', opacity: 0.7 },
            ],

            {
                duration: duration,
                easing: easing,
            }
        );
    }


</script>